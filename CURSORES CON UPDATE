--haremos uno de chocolate

CREATE TABLE FACIL(
NOMBRE VARCHAR2(120),
EDAD INTEGER
);

--AGREGAREMOS UN PROCEDIMIENTO PARA GUARDAR EN LA TABLA FACIL
--IMPODREMOS UNA REGLA QUE IMPIDA QUE SE REGISTRE UN MENOR DE EDAD


CREATE OR REPLACE PROCEDURE GUARDAR_FACIL(
MY_NOMBRE IN VARCHAR2,
MY_EDAD IN INTEGER)
AS
BEGIN
IF MY_EDAD < 18 THEN
RAISE_APPLICATION_ERROR(-20001,'LO SIENTO CHAMACO PERVERSO, IMPOSIBLE REGISTRARTE');
END IF;
DBMS_OUTPUT.PUT_LINE('USUARIO MAYOR DE EDAD GUARDADO');
INSERT INTO FACIL VALUES(MY_NOMBRE, MY_EDAD);
END;
/

SET SERVEROUTPUT ON; --MODO DE DEPURACION
--INVOCAMOS EL PROCEDIEMIENTO GUARDAR_FACIL
BEGIN
GUARDAR_FACIL('JUAN',42);
END;
/

BEGIN
GUARDAR_FACIL('LUIS',15);
END;
/

SELECT * FROM FACIL;
